<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Teste de CRUD</title>

  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/themify-icons.css">
  <link rel="stylesheet" href="css/sweetalert2.min.css">

</head>

<body>
  <div class="container" id="data">
    <div class="text-center"><img src="./img/logo.png" alt="FATEC Franca" style="width:30%"></div>
    
    <hr>

    <h2><i class="ti ti-mobile"></i> Lista de Contatos </h2>
    <h4>CRUD (Create, Read, Update & Delete)</h4>
    <hr>
    <div class="container">
      <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#inputdata" @click="adicionarUsuario"> Adicionar Usuário 
        <i class="ti ti-plus"></i>  <i class="ti ti-user"> </i></button>
    </div>
    <hr>
    <table class="table table-striped table-hover">
      <thead class="thead-light">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nome</th>
          <th scope="col">Email</th>
          <th scope="col">Telefone</th>
          <th scope="col">Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr v-show="msg" class="text-center">
          <td colspan="9">Ainda sem dados de usuário</td>
        </tr>
        <tr v-for="(n, index) in datafilter">
          <td> {{ index + 1 }} </td>
          <td> {{ n.name }} </td>
          <td> {{ n.email }} </td>
          <td> {{ n.fone }} </td>
          <td class="col-sm-2 align-middle">
            <button class="btn btn-danger btn" @click="deleteuser(n)" title="delete data">
              <i class="ti ti-trash"></i>
            </button>
            <button class="btn btn-primary " @click="edituser(n)" data-toggle="modal" data-target="#inputdata"
              title="edit data">
              <i class="ti ti-pencil"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Modal para adicionar usuários -->
    <div class="modal fade" id="inputdata" tabindex="-1" role="dialog" aria-labelledby="inputdata" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Adicionar Usuário</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
                <label for="name"><i class="ti ti-user"></i> Nome</label>
                <input type="text" class="form-control" id="name" v-model="inputdatauser.name" >
              </div>

              <div class=" form-group">
                <label for="email"> <i class="ti ti-email"></i> Email</label>
                <input type="email" class="form-control" id="email" v-model="inputdatauser.email">
              </div>

              <div class="form-group">
                <label for="fone"> <i class="ti ti-mobile"></i> Telefone</label>
                <input type="tel" class="form-control" id="fone" v-model="inputdatauser.fone">
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            <button type="button" class="btn btn-primary" @click="adicionar(inputdatauser)" v-if="enable">Adicionar</button>
            <button type="button" class="btn btn-success" @click="update(inputdatauser)" v-else="enable">Atualizar</button>
          </div>
        </div>
      </div>
    </div>
    <div class="footer">
      <p> <strong>Tecnologias utilizadas: HTML, CSS, BS, Vue JS</strong> </p>
      <p>Atividade de Desenvolvimento Web II  - Prof. Leonardo Raiz </p>

    </div>

  </div>


  </div>






  <script src="js/vue.js"></script>

  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

  <script src="js/style.js"></script>

  <script src="js/sweetalert2.all.min.js"></script>

  <script src="js/vuelidate.min.js"></script>
  <script src="js/validators.min.js"></script>
</body>

</html>